spring:
  application:
    name: lesson-service
  profiles:
    active: ${SPRING_PROFILES_ACTIVE:dev}
  data:
    jpa:
      repositories:
        bootstrap-mode: default
        enabled: true
  liquibase:
    enabled: true
    change-log: classpath:db/changelog/db.changelog-master.yaml
    default-schema: public
    drop-first: false

server:
  port: ${SERVER_PORT:8080}
  servlet:
    context-path: /api

management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics
  endpoint:
    health:
      show-details: when-authorized

# Application Logging Configuration
app:
  logging:
    enabled: true
    log-request-body: true
    log-response-body: true
    max-request-body-length: 1000
    max-response-body-length: 2000
    slow-request-threshold-ms: 3000
    excluded-uri-patterns:
      - /actuator/**
      - /health
      - /ready
      - /live
      - /v3/api-docs/**
      - /swagger-ui/**

# OpenAPI / Swagger UI Configuration
springdoc:
  api-docs:
    path: /v3/api-docs
    enabled: true
  swagger-ui:
    path: /swagger-ui.html
    enabled: true
    operations-sorter: method
    tags-sorter: alpha
    doc-expansion: none
  show-actuator: false
